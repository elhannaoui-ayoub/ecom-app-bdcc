{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/user/Desktop/EVALUATION/ecom-app-bdcc/ecom-app-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"keycloak-angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction AppComponent_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 18);\n    i0.ɵɵtext(2, \"Products\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.profile.username);\n  }\n}\nfunction AppComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.handleLogin());\n    });\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_li_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_25_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.handleLogin());\n    });\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_li_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 20);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_26_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.handleLogout());\n    });\n    i0.ɵɵtext(2, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class AppComponent {\n  constructor(keycloakService) {\n    this.keycloakService = keycloakService;\n    this.title = 'ecom-app-angular';\n  }\n  ngOnInit() {\n    if (this.keycloakService.isLoggedIn()) {\n      this.keycloakService.loadUserProfile().then(profile => {\n        this.profile = profile;\n      });\n    }\n  }\n  handleLogin() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.keycloakService.login({\n        redirectUri: window.location.origin\n      });\n    })();\n  }\n  handleLogout() {\n    this.keycloakService.logout(window.location.origin);\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.KeycloakService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 28,\n    vars: 5,\n    consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-lg-0\"], [1, \"nav-item\"], [\"aria-current\", \"page\", \"href\", \"#\", 1, \"nav-link\", \"active\"], [\"routerLink\", \"/customers\", 1, \"nav-link\"], [\"routerLink\", \"/orders\", 1, \"nav-link\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [1, \"nav-item\", \"dropdown\"], [\"href\", \"#\", \"id\", \"navbarDropdown\", \"role\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [4, \"ngIf\", \"ngIfElse\"], [\"login_template\", \"\"], [\"aria-labelledby\", \"navbarDropdown\", 1, \"dropdown-menu\"], [4, \"ngIf\"], [\"routerLink\", \"/products\", 1, \"nav-link\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"dropdown-item\", 3, \"click\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵtext(3, \"Navbar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 3);\n        i0.ɵɵelement(5, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"ul\", 6)(8, \"li\", 7)(9, \"a\", 8);\n        i0.ɵɵtext(10, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"li\", 7)(12, \"a\", 9);\n        i0.ɵɵtext(13, \"Customers\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"li\", 7)(15, \"a\", 10);\n        i0.ɵɵtext(16, \"Orders\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(17, AppComponent_li_17_Template, 3, 0, \"li\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ul\", 6)(19, \"li\", 12)(20, \"a\", 13);\n        i0.ɵɵtemplate(21, AppComponent_span_21_Template, 2, 1, \"span\", 14);\n        i0.ɵɵtemplate(22, AppComponent_ng_template_22_Template, 2, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"ul\", 16);\n        i0.ɵɵtemplate(25, AppComponent_li_25_Template, 3, 0, \"li\", 17);\n        i0.ɵɵtemplate(26, AppComponent_li_26_Template, 3, 0, \"li\", 17);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelement(27, \"router-outlet\");\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(23);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngIf\", ctx.keycloakService.getUserRoles().includes(\"ADMIN\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.profile)(\"ngIfElse\", _r2);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.keycloakService.isLoggedIn());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.keycloakService.isLoggedIn());\n      }\n    },\n    dependencies: [i2.NgIf, i3.RouterOutlet, i3.RouterLink],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","profile","username","ɵɵlistener","AppComponent_ng_template_22_Template_button_click_0_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","handleLogin","AppComponent_li_25_Template_a_click_1_listener","_r9","ctx_r8","AppComponent_li_26_Template_a_click_1_listener","_r11","ctx_r10","handleLogout","AppComponent","constructor","keycloakService","title","ngOnInit","isLoggedIn","loadUserProfile","then","_this","_asyncToGenerator","login","redirectUri","window","location","origin","logout","_","ɵɵdirectiveInject","i1","KeycloakService","_2","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","AppComponent_li_17_Template","AppComponent_span_21_Template","AppComponent_ng_template_22_Template","ɵɵtemplateRefExtractor","AppComponent_li_25_Template","AppComponent_li_26_Template","ɵɵproperty","getUserRoles","includes","_r2"],"sources":["C:\\Users\\user\\Desktop\\EVALUATION\\ecom-app-bdcc\\ecom-app-angular\\src\\app\\app.component.ts","C:\\Users\\user\\Desktop\\EVALUATION\\ecom-app-bdcc\\ecom-app-angular\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {KeycloakService} from \"keycloak-angular\";\nimport {KeycloakProfile} from \"keycloak-js\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'ecom-app-angular';\n  public profile! : KeycloakProfile;\n  constructor(public keycloakService : KeycloakService) {\n  }\n\n  ngOnInit() {\n    if(this.keycloakService.isLoggedIn()){\n      this.keycloakService.loadUserProfile().then(profile=>{\n        this.profile=profile;\n      });\n    }\n  }\n\n  async handleLogin() {\n    await this.keycloakService.login({\n      redirectUri: window.location.origin\n    });\n  }\n\n  handleLogout(){\n    this.keycloakService.logout(window.location.origin);\n  }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <div class=\"container-fluid\">\n    <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"#\">Home</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" routerLink=\"/customers\">Customers</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" routerLink=\"/orders\">Orders</a>\n        </li>\n        <li class=\"nav-item\" *ngIf=\"keycloakService.getUserRoles().includes('ADMIN')\">\n          <a class=\"nav-link\" routerLink=\"/products\">Products</a>\n        </li>\n\n      </ul>\n      <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n        <li class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            <span *ngIf=\"profile;else login_template\">{{profile.username}}</span>\n            <ng-template #login_template>\n              <button class=\"btn btn-success\" (click)=\"handleLogin()\">Login</button>\n            </ng-template>\n          </a>\n          <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li *ngIf=\"!keycloakService.isLoggedIn()\" ><a class=\"dropdown-item\" (click)=\"handleLogin()\">Login</a></li>\n            <li *ngIf=\"keycloakService.isLoggedIn()\"><a class=\"dropdown-item\" (click)=\"handleLogout()\">Logout</a></li>\n\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<router-outlet>\n\n</router-outlet>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}